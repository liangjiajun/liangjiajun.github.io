<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>关键词着色</title>
    <link rel="stylesheet" type="text/css" href="../../Style/reset.css">
    <link rel="stylesheet" type="text/css" href="../../Style/mold.css">
    <link rel="stylesheet" type="text/css" href="../../Style/prism.css">
    <style id="cssCode">
        p{line-height: 30px;}
        .highlight { background-color:yellow; }
    </style>
</head>
<body>
<div class="wrap">
    <div class="activeArea" id="activeArea">
        <div class="justifyAuto">
            <h3>关键词着色</h3>
            <p>A salesman dropped in to see a business customer. Not a soul was in the office except a big dog emptying wastebaskets. The salesman stared at the animal, wondering if his imagination could be playing tricks on him. The dog looked up and said, “Don't be surprised. This is just part of my job.”</p>
            <p>
                一个销售员要去见客户。但是办公室里只有一只狗在叼着垃圾桶里的东西。销售员心想，这一定是在和我开玩笑。这时狗抬起头，说：“不要惊讶，这也是我的工作。”
            </p>
            <p>
                Incredible!” exclaimed the man. “I can't believe it! Does your boss know what a prize he has in you? An animal that can talk!”
            </p>
            <p>
                “不可思议！”销售员叫道。“这不可能！你们老板知道他拥有什么吗！一只会说话的动物！”
            </p>
            <p>
                “No, no,” pleaded the dog. “Please don't! If he finds out I can talk, he'll make me answer the phone as well!”
            </p>
            <p>“不不，”狗哀求道，“千万别说！如果他发现我可以说话，他会让我也去接电话的！”</p>

            <form>
                <input type="text" id="text"/>
                <input type="button" id="search" value="Search"/>
                <input type="button" id="clear" value="Clear"/>
            </form>

        </div>
    </div>
    <span class="codeHideBtn" id="codeHideBtn">&gt;</span>
    <div class="codeArea" id="codeArea">
        <div class="code-area">
            <h3>HTML Code </h3>
            <pre class="language-html">
                <code>
                    <textarea disabled  id="htmlArea">

                    </textarea>
                </code>
            </pre>
        </div>
        <div class="code-area">
            <h3>CSS Code </h3>
            <pre class="language-css">
                <code>
                    <textarea disabled  id="cssArea">

                    </textarea>
                </code>
            </pre>
        </div>
        <div class="code-area" >
            <h3>JavaScript Code </h3>
            <pre class="language-javascript">
                <code>
                    <textarea disabled id="jsArea">

                    </textarea>
                </code>
            </pre>
        </div>
    </div>
</div>

</body>
</html>
<script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>
<script  id="jsCode">
       $(document).ready(function (){
           $('#search').click(highlight);//点击search时，执行highlight函数；
           $('#clear').click(clearSelection);//点击clear按钮时，执行clearSelection函数；

           function highlight(){
               clearSelection();//先清空一下上次高亮显示的内容；
               var searchText = $('#text').val();//获取你输入的关键字；
               var regExp = new RegExp(searchText, 'g');
               //创建正则表达式，g表示全局的，
               //如果不用g，则查找到第一个就不会继续向下查找了；
               $('p').each(function()//遍历文章；
                // each() 方法为每个匹配元素规定要运行的函数。
                // 语法：$(selector).each(function(index,element))
               {
                   var html = $(this).html();
                   var newHtml = html.replace(regExp, '<span class="highlight">'+searchText+'</span>');
                   //将找到的关键字替换，加上highlight属性；
                   // replace() 方法用于在字符串中用一些字符替换另一些字符
                   // 或替换一个与正则表达式匹配的子串。

                   $(this).html(newHtml);//更新文章；
               });
           }

           function clearSelection(){
               $('p').each(function()//遍历
               {
                   $(this).find('.highlight').each(function()//找到所有highlight属性的元素；
                   {
                       $(this).replaceWith($(this).html());//将他们的属性去掉；
                       // replaceWith() 方法把被选元素替换为新的内容。
                       // 语法：$(selector).replaceWith(content,function(index))
                   });
               });
           }
       });

</script>
<script src="../../Javascript/prism.js"></script>
<script src="../../Javascript/mold.js"></script>
