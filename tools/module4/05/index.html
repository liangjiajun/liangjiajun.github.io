<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>碰撞检测</title>
    <link rel="stylesheet" type="text/css" href="../../Style/reset.css">
    <link rel="stylesheet" type="text/css" href="../../Style/mold.css">
    <link rel="stylesheet" type="text/css" href="../../Style/prism.css">
    <style id="cssCode">
       .justifyAuto div{height:200px; width:200px; background:#ccc;}
       #box-1{position:absolute; top:0; left:0;cursor: move;}
       #box-2{margin: 30% auto 0;}
    </style>
</head>
<body>
<div class="wrap">
    <div class="activeArea" id="activeArea">
        <div class="justifyAuto">
            <h3>碰撞检测</h3>
            <div id="box-1"></div>
            <div id="box-2"></div>
        </div>
    </div>
    <span class="codeHideBtn" id="codeHideBtn">&gt;</span>
    <div class="codeArea" id="codeArea">
        <div class="code-area">
            <h3>HTML Code </h3>
            <pre class="language-html">
                <code>
                    <textarea disabled  id="htmlArea">

                    </textarea>
                </code>
            </pre>
        </div>
        <div class="code-area">
            <h3>CSS Code </h3>
            <pre class="language-css">
                <code>
                    <textarea disabled  id="cssArea">

                    </textarea>
                </code>
            </pre>
        </div>
        <div class="code-area" >
            <h3>JavaScript Code </h3>
            <pre class="language-javascript">
                <code>
                    <textarea disabled id="jsArea">

                    </textarea>
                </code>
            </pre>
        </div>
    </div>
</div>

</body>
</html>
<script  id="jsCode">

var box_1 = document.getElementById("box-1");
var box_2 = document.getElementById("box-2");
//mouse down position
var mouse_top;
var mouse_left;
//mouse move position
var move_top;
var move_left;
//box1 position
var box1_top;
var box1_left;
//when the mouse down
box_1.onmousedown = function moused(){
    mouse_top = event.clientY;
    mouse_left = event.clientX;
    box1_top = box_1.offsetTop;
    box1_left = box_1.offsetLeft;
    //mousemove
    document.addEventListener("mousemove",mousem);
    function mousem(){
        move_top = event.clientY - mouse_top + box1_top;
        move_left = event.clientX - mouse_left + box1_left;
        box_1.style.top=move_top+"px";
        box_1.style.left=move_left+"px";
        impact();
    }
    //mouseup
    document.onmouseup = function mouseu(){
        document.removeEventListener("mousemove",mousem);
    }
}

//box2 position
var box2_top;
var box2_left;
//box height and width
var box1_h;
var box1_w;
var box2_h;
var box2_w;
//impact
function impact(){
    box1_h = box_1.offsetHeight;
    box1_w = box_1.offsetWidth;
    box2_top = box_2.offsetTop;
    box2_left = box_2.offsetLeft;
    box2_h = box_2.offsetHeight;
    box2_w = box_2.offsetWidth;
    if(move_top+box1_h>=box2_top && move_left+box1_w>=box2_left && move_top<=box2_h+box2_top && move_left<=box2_w+box2_left){
        box_2.style.background="#000";
    }else{
        box_2.style.background="#ccc";
    }
}

//element can't draggable
var ele = document.getElementsByTagName("*");
for(var i=0; i<ele.length; i++){
    ele[i].setAttribute("draggable","none");
}



</script>
<script src="../../Javascript/prism.js"></script>
<script src="../../Javascript/mold.js"></script>
